(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("lmye"),n("x3Br"),n("wCa+"),n("SUr3"),n("JBxO"),n("FdtR"),n("wcNg"),n("L1EO");var r=n("czhI"),a=n.n(r);function s(e,t,n,r,a,s,o){try{var c=e[s](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){s(o,r,a,c,i,"next",e)}function i(e){s(o,r,a,c,i,"throw",e)}c(void 0)}))}}var c=document.forms.messageForm,i=document.querySelector(".list"),u=document.querySelector(".editInput"),d=function(){var e=o(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=c.elements.message.value,e.prev=2,e.next=5,a.a.post("https://chat-a4dc0.firebaseio.com/messenger.json",{message:n});case 5:r=e.sent,console.log("create",r.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(error);case 12:return e.prev=12,l(),e.finish(12);case 15:c.reset();case 16:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}();c.addEventListener("submit",d);var l=function(){var e=o(regeneratorRuntime.mark((function e(t){var n,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.get("https://chat-a4dc0.firebaseio.com/messenger.json");case 2:null!==(n=e.sent).data?(r=Object.keys(n.data).map((function(e){return Object.assign({id:e},n.data[e])})),console.log(r),s=r.reduce((function(e,t){return e+"\n        <li className='listItem'>\n        <span className='spanItem'>"+t.message+"</span>\n        <button className='editButton' data-button = 'edit' data-id="+t.id+">Edit</button>\n        <button className='delButton' data-button = 'delete' data-id="+t.id+">Delete</button>\n        </li>\n        "}),""),i.innerHTML=s):i.innerHTML="<li><span>No messages</span></li>";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=o(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BUTTON"!==t.target.dataset){e.next=14;break}return n=t.target.dataset.id,e.prev=2,e.next=5,a.a.delete("https://chat-a4dc0.firebaseio.com/messenger/"+n+".json");case 5:console.log(response.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:return e.prev=11,l(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=o(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.value,e.prev=1,e.next=4,a.a.patch("https://chat-a4dc0.firebaseio.com/messenger/"+t+".json",{message:r});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:return e.prev=9,l(),u.value="",e.finish(9);case 13:case"end":return e.stop()}}),e,null,[[1,6,9,13]])})));return function(t,n){return e.apply(this,arguments)}}();l(),i.addEventListener("click",(function(e){"delete"===e.target.dataset.button&&p(e.target.dataset.id),"edit"===e.target.dataset.button&&("Save"===e.target.textContent&&(m(e.target.dataset.id),e.target.textContent="Edit"),"Edit"===e.target.textContent&&(u.classList.toggle("editInputActive"),e.target.textContent="Save",u.value=e.target.previousElementSibling.textContent))}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.a3056711d4a509c1a7e4.js.map